(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a(49)},35:function(e,t,a){},44:function(e,t){},46:function(e,t){},47:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(20),o=a.n(r),i=a(6),s=a(9),u=a(24),l=Object(s.c)({fetchLocation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_LOCATION":return{locationInfo:t.payload};default:return e}},fetchSatelitePosition:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SATELITE_POSITION":return{gpsPosition:t.payload};default:return e}},updateSearchTerm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{searchTerm:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SEARCH_TERM":return{searchTerm:t.payload};default:return e}},searchAutocomplete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{autocompleteDataArray:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_SEARCH_AUTOCOMPLETE":return{autocompleteDataArray:t.payload};default:return e}},backgroundReady:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{backgroundLoaded:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BACKGROUND_LOADED":return{backgroundLoaded:t.payload};default:return e}},Actions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_AVG_COLOR":return{rBckgAvgColor:t.payload.hex,rBckgIsDark:t.payload.isDark};default:return e}}}),h=[u.a],d=Object(s.e)(l,{},Object(s.d)(s.a.apply(void 0,h))),m=(a(35),a(7)),p=a(1),f=a(2),g=a(5),b=a(3),v=a(4),y=function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return c.a.createElement("section",{className:"preloader dark"},c.a.createElement("div",{className:"spinner"},c.a.createElement("i",null),c.a.createElement("i",null),c.a.createElement("i",null),c.a.createElement("i",null),c.a.createElement("i",null),c.a.createElement("i",null),c.a.createElement("i",null)))}}]),t}(n.Component),O=a(25),E=a.n(O),j=function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){d.subscribe(function(){document.querySelectorAll("path#path").forEach(function(e){return e.style.fill=E()(d.getState().Actions.rBckgAvgColor).lighten(.5)})})}},{key:"render",value:function(){return c.a.createElement("div",{className:"logo"},c.a.createElement("svg",{id:"logo-group_1_",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 186.2 46.593"},c.a.createElement("g",{id:"title_1_",transform:"translate(0 0)"},c.a.createElement("path",{id:"path",className:"cls-1",d:"M15.711,37.868a14.148,14.148,0,0,0-5.294-.968,13.766,13.766,0,0,0-4.554.768A8.507,8.507,0,0,0,2.391,40a5.467,5.467,0,0,0-1.338,3.785c0,3.7,2.932,6.119,8.766,7.2A14.356,14.356,0,0,1,14.6,52.583a2.854,2.854,0,0,1,1.423,2.334,2.618,2.618,0,0,1-1.452,2.334,7.581,7.581,0,0,1-4.013.854,9.836,9.836,0,0,1-3.7-.683,6.377,6.377,0,0,1-2.59-1.679,2.487,2.487,0,0,0-1.736-.825,2.765,2.765,0,0,0-1.594.626A2.118,2.118,0,0,0,0,57.336a1.814,1.814,0,0,0,.6,1.423,10.6,10.6,0,0,0,4.3,2.5,17.794,17.794,0,0,0,5.835.968,12.935,12.935,0,0,0,5.294-.968,7.884,7.884,0,0,0,3.387-2.7,6.92,6.92,0,0,0,1.138-3.842,5.9,5.9,0,0,0-2.106-4.611c-1.366-1.167-3.757-2.078-7.03-2.761a17.785,17.785,0,0,1-3.7-1,4.225,4.225,0,0,1-1.736-1.138,2.438,2.438,0,0,1-.455-1.565,2.088,2.088,0,0,1,1.338-1.964,7.747,7.747,0,0,1,3.472-.74,9.908,9.908,0,0,1,3.1.455,7.21,7.21,0,0,1,2.419,1.452,2.964,2.964,0,0,0,2.135.854,1.95,1.95,0,0,0,1.281-.37,1.736,1.736,0,0,0,.768-1.423,2.527,2.527,0,0,0-.6-1.452,9.819,9.819,0,0,0-3.729-2.59Z",transform:"translate(0 -26.397)"}),c.a.createElement("path",{id:"path",className:"cls-1",d:"M122.511,50.647a1.994,1.994,0,0,0,.6-1.452,14.583,14.583,0,0,0-1.366-6.4,10.688,10.688,0,0,0-3.928-4.326,12,12,0,0,0-6.062-1.565,12.412,12.412,0,0,0-6.4,1.651,11.369,11.369,0,0,0-4.383,4.525A13.3,13.3,0,0,0,99.4,49.594a12.611,12.611,0,0,0,1.651,6.518,11.72,11.72,0,0,0,4.668,4.525,13.7,13.7,0,0,0,6.717,1.594,13.311,13.311,0,0,0,4.383-.768,12.412,12.412,0,0,0,3.871-2.021,1.759,1.759,0,0,0,.74-1.366,2.148,2.148,0,0,0-.825-1.565,2.191,2.191,0,0,0-1.366-.455,2.306,2.306,0,0,0-1.508.512,7.19,7.19,0,0,1-2.476,1.224,7.893,7.893,0,0,1-2.818.512,8.826,8.826,0,0,1-5.892-1.964,7.846,7.846,0,0,1-2.875-5.152H121a2.273,2.273,0,0,0,1.508-.541Zm-16.2-8a7.989,7.989,0,0,1,5.436-1.822,6.847,6.847,0,0,1,4.9,1.822,8.22,8.22,0,0,1,2.277,4.9h-15.2A8.386,8.386,0,0,1,106.316,42.649Z",transform:"translate(-71.109 -26.397)"}),c.a.createElement("path",{id:"path",className:"cls-1",d:"M230.211,50.647a1.994,1.994,0,0,0,.6-1.452,14.583,14.583,0,0,0-1.366-6.4,10.688,10.688,0,0,0-3.928-4.326,12,12,0,0,0-6.062-1.565,12.412,12.412,0,0,0-6.4,1.651,11.369,11.369,0,0,0-4.383,4.525,13.3,13.3,0,0,0-1.565,6.518,12.611,12.611,0,0,0,1.651,6.518,11.72,11.72,0,0,0,4.668,4.525,13.7,13.7,0,0,0,6.717,1.594,13.311,13.311,0,0,0,4.383-.768,12.412,12.412,0,0,0,3.871-2.021,1.759,1.759,0,0,0,.74-1.366,2.148,2.148,0,0,0-.825-1.565,2.191,2.191,0,0,0-1.366-.455,2.306,2.306,0,0,0-1.508.512,7.19,7.19,0,0,1-2.476,1.224,7.893,7.893,0,0,1-2.818.512,8.826,8.826,0,0,1-5.892-1.964,7.846,7.846,0,0,1-2.875-5.152H228.7a2.328,2.328,0,0,0,1.508-.541Zm-16.223-8a7.989,7.989,0,0,1,5.436-1.822,6.847,6.847,0,0,1,4.9,1.822,8.22,8.22,0,0,1,2.277,4.9H211.4A8.386,8.386,0,0,1,213.988,42.649Z",transform:"translate(-148.155 -26.397)"}),c.a.createElement("path",{id:"path",className:"cls-1",d:"M341.654,33.8a1.939,1.939,0,0,0-.512-1.366L332.29,21.561l8.425-7.486a1.973,1.973,0,0,0,.74-1.565,2.133,2.133,0,0,0-.6-1.423,2.01,2.01,0,0,0-2.989-.142l-11.1,9.9V2.32a2.236,2.236,0,0,0-.626-1.594A2.236,2.236,0,0,0,324.548.1,2.325,2.325,0,0,0,322.9.726a2.1,2.1,0,0,0-.6,1.594V33.486a2.191,2.191,0,0,0,.6,1.651,2.261,2.261,0,0,0,1.651.6,2.1,2.1,0,0,0,1.594-.6,2.278,2.278,0,0,0,.626-1.651V26.513l2.277-2.021,8.681,10.73a1.973,1.973,0,0,0,1.651.825,2.248,2.248,0,0,0,1.452-.541A2.112,2.112,0,0,0,341.654,33.8Z",transform:"translate(-230.566 -0.072)"}),c.a.createElement("path",{id:"path",className:"cls-1",d:"M434.583,37.868a14.148,14.148,0,0,0-5.294-.968,13.766,13.766,0,0,0-4.554.768A8.507,8.507,0,0,0,421.262,40a5.6,5.6,0,0,0-1.338,3.785c0,3.7,2.932,6.119,8.766,7.2a14.356,14.356,0,0,1,4.782,1.594,2.854,2.854,0,0,1,1.423,2.334,2.618,2.618,0,0,1-1.452,2.334,7.581,7.581,0,0,1-4.013.854,9.836,9.836,0,0,1-3.7-.683,6.377,6.377,0,0,1-2.59-1.679,2.487,2.487,0,0,0-1.736-.825,2.765,2.765,0,0,0-1.594.626,2.091,2.091,0,0,0-.911,1.793,1.814,1.814,0,0,0,.6,1.423,10.6,10.6,0,0,0,4.3,2.5,17.794,17.794,0,0,0,5.835.968,12.935,12.935,0,0,0,5.294-.968,7.885,7.885,0,0,0,3.387-2.7,6.92,6.92,0,0,0,1.138-3.842,5.9,5.9,0,0,0-2.106-4.611c-1.366-1.2-3.757-2.106-7.03-2.789a17.785,17.785,0,0,1-3.7-1,4.225,4.225,0,0,1-1.736-1.138,2.438,2.438,0,0,1-.455-1.565,2.088,2.088,0,0,1,1.338-1.964,7.747,7.747,0,0,1,3.472-.74,9.908,9.908,0,0,1,3.1.455,7.21,7.21,0,0,1,2.419,1.452,2.964,2.964,0,0,0,2.135.854,1.95,1.95,0,0,0,1.281-.37,1.736,1.736,0,0,0,.768-1.423,2.526,2.526,0,0,0-.6-1.452,9.979,9.979,0,0,0-3.757-2.562Z",transform:"translate(-299.672 -26.397)"}),c.a.createElement("path",{id:"path",className:"cls-1",d:"M520.326.626a2.186,2.186,0,0,0-.626,1.651V27.21a10.659,10.659,0,0,0,.854,4.383,6.891,6.891,0,0,0,2.419,3.017,6.012,6.012,0,0,0,3.558,1.053h.085a3.561,3.561,0,0,0,2.248-.626,2,2,0,0,0,.854-1.651,2.606,2.606,0,0,0-.6-1.651,1.911,1.911,0,0,0-1.452-.626h-1.138a1.9,1.9,0,0,1-1.651-1.082,5.2,5.2,0,0,1-.626-2.789V2.277a2.48,2.48,0,0,0-.626-1.651A2.427,2.427,0,0,0,521.977,0a2.278,2.278,0,0,0-1.651.626Z",transform:"translate(-371.782 0)"}),c.a.createElement("path",{id:"path",className:"cls-1",d:"M593.536,39.521a1.933,1.933,0,0,0-1.423-1.793,3.074,3.074,0,0,0-1.082-.228,1.883,1.883,0,0,0-1.793,1.338L581.895,55.4l-8.339-16.622a2.136,2.136,0,0,0-1.907-1.281,2.882,2.882,0,0,0-.911.171,2.378,2.378,0,0,0-.968.768,1.714,1.714,0,0,0-.37,1.082,1.806,1.806,0,0,0,.228.968l10.275,19.5L575.349,70.26a2.663,2.663,0,0,0-.285,1.082,1.875,1.875,0,0,0,1.366,1.793,2.914,2.914,0,0,0,1.082.285A1.865,1.865,0,0,0,579.3,72L593.28,40.6a2.819,2.819,0,0,0,.256-1.082Z",transform:"translate(-407.336 -26.827)"}))))}}]),t}(n.Component),w=Object(i.b)(function(e){return Object(m.a)({},e)})(j),A=function(e){return function(t){t({type:"SAVE_AVG_COLOR",payload:e})}},k=function(e){return function(t){t({type:"BACKGROUND_LOADED",payload:e})}},C=function(e){return function(t){t({type:"FETCH_LOCATION",payload:e})}},S=function(e){return function(t){t({type:"FETCH_SATELITE_POSITION",payload:e})}},N=function(e){return function(t){t({type:"UPDATE_SEARCH_TERM",payload:e})}},T=function(e){return function(t){t({type:"SAVE_SEARCH_AUTOCOMPLETE",payload:e})}},I=a(26),B=a.n(I),_=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).responsiveImage=c.a.createRef(),a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=document.getElementById("rBckgCanvas"),t=e.getContext("2d"),a=new Image;e.width=window.screen.width,e.height=window.screen.height,a.crossOrigin="Anonymous",a.src="https://picsum.photos/".concat(window.screen.width,"/").concat(window.screen.height,"/?random"),a.onload=function(){t.drawImage(a,0,0);var e=(new B.a).getColor(document.getElementById("rBckgCanvas"));d.dispatch(A(e)),document.querySelectorAll("section.preloader")[0].classList.add("loaded"),d.dispatch(k(!0))}}},{key:"render",value:function(){return c.a.createElement("canvas",{id:"rBckgCanvas",className:"responsive-background"})}}]),t}(n.Component),L={getAvgColor:A},D=Object(i.b)(function(e){return Object(m.a)({},e)},L)(_),R=a(11),x=a.n(R),M=a(12),H=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(g.a)(this,Object(b.a)(t).call(this))).state={location:"",news:""},e}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=Object(M.a)(x.a.mark(function e(){var t,a,n,c,r=this;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://ipapi.co/json/");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,"mk"===(n=a.country.toLowerCase())?this.setState({location:"bg"}):this.setState({location:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:c="https://newsapi.org/v2/top-headlines?country=".concat(this.state.location,"&pageSize=1&apiKey=").concat("024657d91117492fb55b8ccd59d9ecf6"),fetch(c).then(function(e){e.json().then(function(e){r.setState({news:e.articles[0].title})})});case 16:case"end":return e.stop()}},e,this,[[0,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.a.createElement("div",{className:"news-bar"},c.a.createElement("p",{className:"news-bar-text"},this.state.news))}}]),t}(n.Component),P=a(14),V=a.n(P),F={},q={},Z=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).statisticsBlock1=c.a.createRef(),a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"getAreaAvgColor",value:function(){var e=document.getElementById("myCanvas");V.a.setup(e);var t=new V.a.Raster("rBckgCanvas");t.position=V.a.view.center,t.opacity=.1;var a=document.querySelectorAll(".statistics-block-1")[0],n={x:a.getBoundingClientRect().left,y:a.getBoundingClientRect().top,width:a.offsetWidth,height:a.offsetHeight};t.getAverageColor(n).lightness<=.52&&(this.statisticsBlock1.current.style.color="#fff"),document.getElementById("myCanvas")&&document.getElementById("myCanvas").remove()}},{key:"getLocation",value:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(){var e=Object(M.a)(x.a.mark(function e(t){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F={accuracy:t.coords.accuracy,latitude:t.coords.latitude,longitude:t.coords.longitude},e.next=3,fetch("https://fcc-weather-api.glitch.me/api/current?lat=".concat(t.coords.latitude,"&lon=").concat(t.coords.longitude)).then(function(e){return e.json()}).then(function(e){q=Object(m.a)({},q,{temperature:e.main.temp})});case 3:return e.next=5,fetch("".concat("https://api.ipdata.co?api-key=").concat("97c8ed3fa4d7eb6f35d8d0531aa54b4de00d899574a7950b2d7e2f20")).then(function(e){return e.json()}).then(function(e){q=Object(m.a)({},q,{city:e.city,country:e.country_name})});case 5:d.dispatch(S(F)),d.dispatch(C(q));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()):alert("Geolocation is not supported by this browser.")}},{key:"componentDidMount",value:function(){this.getLocation()}},{key:"componentDidUpdate",value:function(){var e=this;d.subscribe(function(){!0===d.getState().backgroundReady.backgroundLoaded&&(e.getAreaAvgColor(),d.dispatch(k(!1)))})}},{key:"render",value:function(){return c.a.createElement("div",{ref:this.statisticsBlock1,className:"statistics-block-1"},c.a.createElement("div",{className:"temperature"},q.temperature?q.temperature:"--","\xb0C"),c.a.createElement("div",{className:"location"},q.city?q.city:"City",", ",q.country?q.country:"Country"))}}]),t}(n.Component),U={fetchLocation:C},G=Object(i.b)(function(e){return Object(m.a)({},e)},U)(Z),K=a(10),W=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).timeout=0,a.searchInput=c.a.createRef(),a.searchButton=c.a.createRef(),a.handleSearchInputChange=a.handleSearchInputChange.bind(Object(K.a)(Object(K.a)(a))),a.handleFormSubmit=a.handleFormSubmit.bind(Object(K.a)(Object(K.a)(a))),a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"handleFormSubmit",value:function(e){e.preventDefault(),window.location.href="https://google.com/search?q=".concat(this.searchInput.current.value)}},{key:"handleSearchInputChange",value:function(){d.dispatch(N(this.searchInput.current.value)),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){void 0!==d.getState().updateSearchTerm.searchTerm&&""!==d.getState().updateSearchTerm.searchTerm&&fetch("https://cors-escape.herokuapp.com/http://suggestqueries.google.com/complete/search?client=firefox&q=".concat(d.getState().updateSearchTerm.searchTerm)).then(function(e){return e.json()}).then(function(e){d.dispatch(T(e[1].slice(0,5)))})},750)}},{key:"componentDidMount",value:function(){var e=this;d.subscribe(function(){e.searchButton.current.style.background=d.getState().Actions.rBckgAvgColor})}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return c.a.createElement("div",{className:"search-bar-wrapper"},c.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"search-bar",autoComplete:"off"},c.a.createElement("div",{className:"search-input-wrapper"},c.a.createElement("input",{ref:this.searchInput,value:d.getState().updateSearchTerm.searchTerm,onChange:this.handleSearchInputChange,id:"search-input",className:"search-input",type:"text"}),c.a.createElement("label",{htmlFor:"search-input",className:"search-input__label ".concat(d.getState().updateSearchTerm.searchTerm?"hasSearchTerm":"")},"Search")),c.a.createElement("button",{ref:this.searchButton,className:"btn-search"},c.a.createElement("img",{src:"./assets/images/magnifying-glass.svg",alt:"magnifying-glass"}))))}}]),t}(n.Component),z={updateSearchTerm:N,searchAutocomplete:T},J=Object(i.b)(function(e){return Object(m.a)({},e)},z)(W),$=function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){d.subscribe(function(){document.querySelectorAll(".suggestion-bubble").forEach(function(e){e.style.background=d.getState().Actions.rBckgAvgColor})})}},{key:"render",value:function(){return c.a.createElement("div",{className:"suggestions-wrapper"},c.a.createElement("div",{className:"suggestions"},d.getState().searchAutocomplete.autocompleteDataArray.map(function(e,t){if(t<2)return c.a.createElement("a",{href:"https://google.com/search?q=".concat(e),key:"suggestionBubble".concat(t),className:"suggestion-bubble"},e)})),c.a.createElement("div",{className:"suggestions"},d.getState().searchAutocomplete.autocompleteDataArray.map(function(e,t){if(t>=2)return c.a.createElement("a",{href:"https://google.com/search?q=".concat(e),key:"suggestionBubble".concat(t),className:"suggestion-bubble"},e)})))}}]),t}(n.Component),Q=Object(i.b)(function(e){return Object(m.a)({},e)})($),X=function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"footer"},c.a.createElement("p",{className:"powered-by"},"Powered by: Google / NewsAPI"),c.a.createElement("p",{className:"copyright"},"\xa9 Ivan Stevkovski 2018 All rights reserved."))}}]),t}(n.Component),Y=(a(47),function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"app"},c.a.createElement("canvas",{style:{position:"fixed",zIndex:"-1"},id:"myCanvas",width:window.screen.width,height:window.screen.height}),c.a.createElement(y,null),c.a.createElement(D,null),c.a.createElement(H,null),c.a.createElement("div",{className:"headsup-block"},c.a.createElement(w,null),c.a.createElement(G,null)),c.a.createElement(J,null),c.a.createElement(Q,null),c.a.createElement(X,null))}}]),t}(n.Component)),ee=Object(i.b)(function(e){return Object(m.a)({},e)},function(e){return{fetchLocation:function(){return e(function(e){e({type:"FETCH_LOCATION",payload:"bg"})})}}})(Y);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(i.a,{store:d},c.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,2,1]]]);
//# sourceMappingURL=main.64f15343.chunk.js.map